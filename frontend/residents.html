<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Quản lý Nhân khẩu</title>
    <link rel="stylesheet" href="assets/css/layout.css" />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/css/residents.css" />
</head>

<body>
    <div id="navbar"></div>

    <main class="dashboard">
        <aside id="sidebar"></aside>

        <section class="content">
            <h2>Quản lý Nhân khẩu</h2>

            <!-- Thanh tìm kiếm và nút thêm -->
            <div class="content-header">
                <div class="search-bar">
                    <input id="search-input" type="text" placeholder="Tìm theo họ tên hoặc CCCD..." />
                    <button id="search-btn" class="btn">Tìm kiếm</button>
                    <button id="clear-search-btn" class="btn btn-secondary">Xóa</button>
                </div>

                <button id="add-resident-btn" class="btn btn-primary">
                    + Thêm nhân khẩu
                </button>
            </div>

            <!-- Bảng dữ liệu -->
            <div class="table-container">
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>Mã NK</th>
                            <th>Họ tên</th>
                            <th>Ngày sinh</th>
                            <th>Giới tính</th>
                            <th>CCCD</th>
                            <th>Số hộ khẩu</th>
                            <th>Quan hệ chủ hộ</th>
                            <th>Trạng thái</th>
                            <th>Hành động</th>
                        </tr>
                    </thead>
                    <tbody id="residents-table-body">
                        <tr>
                            <td colspan="9">Đang tải dữ liệu...</td>
                        </tr>
                    </tbody>
                </table>
            </div>

            <div id="pagination-controls" class="pagination"></div>
        </section>
    </main>

    <!-- Modal thêm / sửa nhân khẩu -->
    <div id="resident-modal" class="modal-overlay hidden">
        <div class="modal-content large">
            <span class="close-btn" data-modal="resident-modal">&times;</span>
            <h3 id="modal-title">Thêm nhân khẩu mới</h3>

            <form id="resident-form">
                <input type="hidden" id="resident-id" />

                <div class="form-grid">
                    <div class="form-group">
                        <label>Họ tên <span class="required">*</span></label>
                        <input type="text" id="hoten" required />
                    </div>
                    <div class="form-group">
                        <label>Bí danh</label>
                        <input type="text" id="bidanh" />
                    </div>
                    <div class="form-group">
                        <label>Ngày sinh <span class="required">*</span></label>
                        <input type="date" id="ngaysinh" required />
                    </div>
                    <div class="form-group">
                        <label>Giới tính <span class="required">*</span></label>
                        <select id="gioitinh" required>
                            <option value="">Chọn giới tính</option>
                            <option value="Nam">Nam</option>
                            <option value="Nữ">Nữ</option>
                            <option value="Khác">Khác</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Nơi sinh <span class="required">*</span></label>
                        <input type="text" id="noisinh" required />
                    </div>
                    <div class="form-group">
                        <label>Nguyên quán <span class="required">*</span></label>
                        <input type="text" id="nguyenquan" required />
                    </div>
                    <div class="form-group">
                        <label>Dân tộc <span class="required">*</span></label>
                        <input type="text" id="dantoc" required />
                    </div>
                    <div class="form-group">
                        <label>Quốc tịch <span class="required">*</span></label>
                        <input type="text" id="quoctich" value="Việt Nam" required />
                    </div>
                    <div class="form-group">
                        <label>CCCD</label>
                        <input type="text" id="socccd" />
                    </div>
                    <div class="form-group">
                        <label>Ngày cấp</label>
                        <input type="date" id="ngaycap" />
                    </div>
                    <div class="form-group">
                        <label>Nơi cấp</label>
                        <input type="text" id="noicap" />
                    </div>
                    <div class="form-group">
                        <label>Nghề nghiệp</label>
                        <input type="text" id="nghenghiep" />
                    </div>
                    <div class="form-group">
                        <label>Số hộ khẩu <span class="required">*</span></label>
                        <input type="text" id="sohokhau" required />
                    </div>
                    <div class="form-group">
                        <label>Quan hệ chủ hộ</label>
                        <input type="text" id="quanhechuho" />
                    </div>
                    <div class="form-group">
                        <label>Trạng thái <span class="required">*</span></label>
                        <select id="trangthai" required>
                            <option value="">Chọn trạng thái</option>
                            <option value="thuong_tru">Thường trú</option>
                            <option value="tam_tru">Tạm trú</option>
                            <option value="da_chuyen_di">Đã chuyển đi</option>
                            <option value="da_mat">Đã mất</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label>Nơi thường trú cũ</label>
                        <input type="text" id="noithuongtrucu" />
                    </div>
                    <div class="form-group">
                        <label>Địa chỉ</label>
                        <textarea id="diachi"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Ghi chú</label>
                        <textarea id="ghichu"></textarea>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="submit" class="btn btn-primary">Lưu</button>
                    <button type="button" class="btn btn-secondary close-btn" data-modal="resident-modal">
                        Hủy
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal xác nhận xóa -->
    <div id="delete-modal" class="modal-overlay hidden">
        <div class="modal-content">
            <span class="close-btn" data-modal="delete-modal">&times;</span>
            <h3>Xác nhận xóa</h3>
            <p>Bạn có chắc chắn muốn xóa nhân khẩu này không?</p>
            <div class="form-actions">
                <button id="confirm-delete-btn" class="btn btn-danger">Xóa</button>
                <button type="button" class="btn btn-secondary close-btn" data-modal="delete-modal">Hủy</button>
            </div>
        </div>
    </div>

    <script src="assets/js/layout.js"></script>
    <script src="assets/js/residents.js"></script>
</body>

</html>