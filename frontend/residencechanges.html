<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Qu·∫£n l√Ω Bi·∫øn ƒë·ªông C∆∞ tr√∫</title>
  
  <link rel="stylesheet" href="assets/css/layout.css" />
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="stylesheet" href="assets/css/residents.css" />

  <style>
      .tabs { display: flex; gap: 15px; margin-bottom: 25px; border-bottom: 2px solid #e9ecef; }
      .tab-btn { 
          padding: 12px 25px; 
          cursor: pointer; 
          border: none; 
          background: none; 
          font-weight: 600; 
          color: #6c757d; 
          font-size: 15px; 
          transition: all 0.3s ease;
          position: relative;
      }
      .tab-btn:hover { color: #007bff; background: rgba(0,123,255,0.05); border-radius: 5px 5px 0 0; }
      .tab-btn.active { color: #007bff; }
      .tab-btn.active::after {
          content: '';
          position: absolute;
          bottom: -2px;
          left: 0;
          width: 100%;
          height: 3px;
          background: #007bff;
      }
      .tab-content { display: none; animation: fadeIn 0.4s ease; }
      .tab-content.active { display: block; }
      
      /* Badge tr·∫°ng th√°i */
      .badge { padding: 4px 8px; border-radius: 12px; font-size: 0.8rem; font-weight: 600; }
      .badge-warning { background: #fff3cd; color: #856404; }
      .badge-success { background: #d4edda; color: #155724; }

      @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
  </style>
</head>

<body>
  <div id="navbar"></div>

  <main class="dashboard">
    <aside id="sidebar"></aside>

    <section class="content">
      <h2>üìã Qu·∫£n l√Ω Bi·∫øn ƒë·ªông C∆∞ tr√∫ (T·∫°m tr√∫ / T·∫°m v·∫Øng)</h2>
      <p style="color: #666; margin-bottom: 20px;">Qu·∫£n l√Ω c√¥ng d√¢n t·∫°m v·∫Øng m·∫∑t t·∫°i ƒë·ªãa ph∆∞∆°ng v√† c√¥ng d√¢n t·ª´ n∆°i kh√°c ƒë·∫øn t·∫°m tr√∫.</p>

      <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('tamvang')">Qu·∫£n l√Ω T·∫°m v·∫Øng</button>
        <button class="tab-btn" onclick="switchTab('tamtru')">Qu·∫£n l√Ω T·∫°m tr√∫</button>
      </div>

      <div id="tab-tamvang" class="tab-content active">
        <div class="content-header">
            <div class="search-bar">
                <input id="search-tv" type="text" placeholder="T√¨m theo t√™n ho·∫∑c m√£ nh√¢n kh·∫©u..." onkeyup="handleSearch('tamvang')" />
                <button class="btn btn-primary" onclick="handleSearch('tamvang')">T√¨m ki·∫øm</button>
            </div>
            <button class="btn btn-primary" onclick="openModal('modal-tamvang')">+ Khai b√°o T·∫°m v·∫Øng</button>
        </div>

        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>M√£ NK</th>
                        <th>H·ªç t√™n</th>
                        <th>N∆°i ƒë·∫øn</th>
                        <th>Th·ªùi gian v·∫Øng</th>
                        <th>L√Ω do</th>
                        <th>Thao t√°c</th>
                    </tr>
                </thead>
                <tbody id="tbody-tamvang">
                    </tbody>
            </table>
        </div>
      </div>

      <div id="tab-tamtru" class="tab-content">
        <div class="content-header">
            <div class="search-bar">
                <input id="search-tt" type="text" placeholder="T√¨m ng∆∞·ªùi t·∫°m tr√∫..." onkeyup="handleSearch('tamtru')" />
                <button class="btn btn-primary" onclick="handleSearch('tamtru')">T√¨m ki·∫øm</button>
            </div>
            <button class="btn btn-primary" onclick="openModal('modal-tamtru')">+ ƒêƒÉng k√Ω T·∫°m tr√∫</button>
        </div>

        <div class="table-container">
            <table class="data-table">
                <thead>
                    <tr>
                        <th>H·ªç t√™n</th>
                        <th>CCCD/CMND</th>
                        <th>ƒê·ªãa ch·ªâ t·∫°m tr√∫</th>
                        <th>Th·ªùi h·∫°n</th>
                        <th>Tr·∫°ng th√°i</th>
                        <th>Thao t√°c</th>
                    </tr>
                </thead>
                <tbody id="tbody-tamtru">
                    </tbody>
            </table>
        </div>
      </div>
    </section>
  </main>

  <div id="modal-tamvang" class="modal-overlay hidden">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Khai b√°o T·∫°m v·∫Øng</h3>
        <button class="close-btn" onclick="closeModal('modal-tamvang')">&times;</button>
      </div>
      <div class="modal-body">
        <form id="form-tamvang">
            <div class="form-group">
                <label>M√£ Nh√¢n Kh·∫©u (Trong h·ªá th·ªëng) <span style="color:red">*</span></label>
                <input type="number" id="tv-id" required placeholder="Nh·∫≠p ID nh√¢n kh·∫©u (VD: 1, 2...)">
                <small style="color:#666; font-size:12px;">Nh·∫≠p ID ƒë·ªÉ h·ªá th·ªëng t·ª± l·∫•y t√™n ng∆∞·ªùi d√¢n.</small>
            </div>
            <div class="form-group">
                <label>N∆°i ƒë·∫øn t·∫°m tr√∫ <span style="color:red">*</span></label>
                <input type="text" id="tv-noiden" required placeholder="ƒê·ªãa ch·ªâ n∆°i chuy·ªÉn ƒë·∫øn">
            </div>
            <div class="info-grid">
                <div class="form-group">
                    <label>T·ª´ ng√†y</label>
                    <input type="date" id="tv-tungay" required>
                </div>
                <div class="form-group">
                    <label>ƒê·∫øn ng√†y</label>
                    <input type="date" id="tv-denngay" required>
                </div>
            </div>
            <div class="form-group">
                <label>L√Ω do</label>
                <textarea id="tv-lydo" class="form-control" rows="3"></textarea>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('modal-tamvang')">H·ªßy</button>
                <button type="submit" class="btn btn-primary">L∆∞u d·ªØ li·ªáu</button>
            </div>
        </form>
      </div>
    </div>
  </div>

  <div id="modal-tamtru" class="modal-overlay hidden">
    <div class="modal-content" style="max-width: 800px;">
      <div class="modal-header">
        <h3>ƒêƒÉng k√Ω T·∫°m tr√∫ (Ng∆∞·ªùi t·ª´ n∆°i kh√°c ƒë·∫øn)</h3>
        <button class="close-btn" onclick="closeModal('modal-tamtru')">&times;</button>
      </div>
      <div class="modal-body">
        <form id="form-tamtru">
            <div class="info-section">
                <h4 style="margin-bottom:15px; border-bottom:1px solid #eee; padding-bottom:5px;">Th√¥ng tin c√° nh√¢n</h4>
                <div class="info-grid">
                    <div class="form-group">
                        <label>H·ªç v√† t√™n <span style="color:red">*</span></label>
                        <input type="text" id="tt-hoten" required>
                    </div>
                    <div class="form-group">
                        <label>Ng√†y sinh <span style="color:red">*</span></label>
                        <input type="date" id="tt-ngaysinh" required>
                    </div>
                    <div class="form-group">
                        <label>CCCD/CMND <span style="color:red">*</span></label>
                        <input type="text" id="tt-cccd" required>
                    </div>
                    <div class="form-group">
                        <label>Gi·ªõi t√≠nh</label>
                        <select id="tt-gioitinh">
                            <option value="Nam">Nam</option>
                            <option value="N·ªØ">N·ªØ</option>
                        </select>
                    </div>
                </div>
                <div class="form-group" style="margin-top:10px;">
                    <label>Qu√™ qu√°n / Th∆∞·ªùng tr√∫</label>
                    <input type="text" id="tt-quequan" placeholder="ƒê·ªãa ch·ªâ th∆∞·ªùng tr√∫ ·ªü qu√™">
                </div>
            </div>

            <div class="info-section" style="margin-top:20px;">
                <h4 style="margin-bottom:15px; border-bottom:1px solid #eee; padding-bottom:5px;">Th√¥ng tin ƒëƒÉng k√Ω</h4>
                <div class="form-group">
                    <label>ƒê·ªãa ch·ªâ T·∫°m tr√∫ (T·∫°i t·ªï d√¢n ph·ªë) <span style="color:red">*</span></label>
                    <input type="text" id="tt-diachi" required placeholder="V√≠ d·ª•: S·ªë nh√† 10, Ng√µ 5...">
                </div>
                <div class="info-grid">
                    <div class="form-group">
                        <label>T·ª´ ng√†y</label>
                        <input type="date" id="tt-tungay" required>
                    </div>
                    <div class="form-group">
                        <label>ƒê·∫øn ng√†y</label>
                        <input type="date" id="tt-denngay" required>
                    </div>
                </div>
                <div class="form-group" style="margin-top:10px;">
                    <label>L√Ω do</label>
                    <textarea id="tt-lydo" class="form-control" rows="2"></textarea>
                </div>
            </div>

            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" onclick="closeModal('modal-tamtru')">H·ªßy</button>
                <button type="submit" class="btn btn-primary">L∆∞u d·ªØ li·ªáu</button>
            </div>
        </form>
      </div>
    </div>
  </div>

  <script src="assets/js/layout.js"></script>
  <script src="assets/js/residencechanges.js"></script>
</body>
</html>